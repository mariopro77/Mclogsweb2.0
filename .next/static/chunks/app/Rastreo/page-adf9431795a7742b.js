(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[133],{7357:(e,t,l)=>{Promise.resolve().then(l.bind(l,9320))},2445:(e,t,l)=>{"use strict";l.d(t,{TrackingProvider:()=>n,f:()=>a});var s=l(5155),r=l(2115);let a=(0,r.createContext)(),n=e=>{let{children:t}=e,[l,n]=(0,r.useState)(""),[i,o]=(0,r.useState)("");return(0,s.jsx)(a.Provider,{value:{trackSearch:l,setTrackSearch:n,shipName:i,setShipName:o},children:t})}},9320:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>c});var s=l(5155),r=l(2115),a=l(9214),n=l(5683),i=l(3761),o=l(2445);function c(){let{trackSearch:e,setTrackSearch:t,shipName:l,setShipName:c}=(0,r.useContext)(o.f),{t:d}=(0,a.Bd)("common"),[u,m]=(0,r.useState)(""),[x,h]=(0,r.useState)(null),[f,p]=(0,r.useState)(null),[g,w]=(0,r.useState)(null),[v,j]=(0,r.useState)(!1),[,b]=(0,r.useState)(""),[,N]=(0,r.useState)(!1),y=(0,r.useRef)(null),[S,E]=(0,r.useState)(!1),[k,M]=(0,r.useState)(!1),[_,C]=(0,r.useState)(!0),[D,T]=(0,r.useState)("");(0,r.useEffect)(()=>{T(e)},[e]),(0,r.useEffect)(()=>{let e=setTimeout(()=>{C(!1)},5e3);return()=>clearTimeout(e)},[k]),(0,r.useEffect)(()=>{""===e&&(p(null),w(null),M(!1))},[e]),(0,r.useEffect)(()=>{(f||g)&&y.current&&y.current.scrollIntoView({behavior:"smooth"})},[f,g]),(0,r.useEffect)(()=>{if(f&&f.Summary){let e=null;for(let t=f.Summary.length-1;t>=0;t--){let l=f.Summary[t];if(l.Ship){e=l.Ship;break}}c(e)}},[f,c]),(0,r.useEffect)(()=>{l&&l.length>0?(E(!0),M(!1)):E(!1)},[l]),(0,r.useEffect)(()=>{if(x){let e="https:"===document.location.protocol?"https://www.marinetraffic.com/":"http://www.marinetraffic.com/",t=window.latitude||0,l=window.longitude||0;void 0!==window.mtembedcode?e+=`en/ais/embed/zoom:13/centery:36/centerx:23/maptype:4/shownames:false/mmsi:${x||"0"}/shipid:0/fleet:/fleet_id:/vtypes:/showmenu:/remember:false`:e+=`en/ais/embed/centerx:${l}/centery:${t}/zoom:5/maptype:1/shownames:true/mmsi:${x}/showmenu:false`,m(e)}},[x]),(0,r.useEffect)(()=>{f&&S&&I(f,S)},[f,S]);let L=async e=>{M(!1),C(!0),c("");try{let t=await fetch(`https://api.mclogs.com/odata/public/GetOrderByText(Value='${e}')?$select=Oid,State,ETD,ETA,TelexRelease,TransportMode,MovementType,Freights,Summary&$expand=Freights,Summary`);if(!t.ok)throw Error("Network response was not ok");let l=await t.json();p(l),b(l.MovementType),j(/^([A-Z]{3})([UJZ])([0-9]{6})([0-9])$/.test(e)),l.Summary&&v&&("Consolidation"===l.MovementType||"LCL/LCL"===l.MovementType)&&(l.Summary=l.Summary.filter(e=>!["EnCoordinacion","En Coordinaci\xf3n","En Transito","EnTransito"].includes(e.Status))),w(null)}catch(e){console.error("Error fetching data:",e),w("No se encontraron resultados"),p(null)}};(0,r.useEffect)(()=>{e&&L(e)},[e]);let $=()=>{t(D)},I=async e=>{if(M(!1),S)try{let t=await fetch(`https://support.consilialogistics.com/mclogs/vessels?search=${l}`);if(t.ok){let l=await t.json();if(l&&l.length>0&&l[0].mmsi){let e=l[0].mmsi;h(e),N(!0)}else{N(!1);let t=e.Summary;if(t.length>0&&t[t.length-1].MMSI){let e=t[t.length-1].MMSI;h(e)}else M(!0)}}else{N(!1);let t=e.Summary;if(t.length>0&&t[t.length-1].MMSI){let e=t[t.length-1].MMSI;h(e)}else M(!0)}}catch(l){console.error("Error fetching ship location:",l),N(!1);let t=e.Summary;t.length>0&&t[t.length-1].MMSI?h(t[t.length-1].MMSI):M(!0)}},P=()=>{T(""),t(""),p(null),c(""),window.scrollTo({top:20,behavior:"smooth"})},R=(e,t)=>{let l=new Date(e),s=new Date;l.toDateString(),s.toDateString();let r="border-oldgold",a="bg-oldgold",n="text-bluemunsell";return l>s&&(r="border-slate-400",a="bg-slate-400",n="text-slate-400",t&&(r="animate-pulse")),{borderClass:r,bgClass:a,textClass:n}},B=new Date,A=f?new Date(f.ETA):null,O=A&&B>A,V=f&&f.Summary&&!f.Summary.some(e=>["EnPuerto","enpuerto","En Puerto","en puerto","Liberado","liberado","Despachado","despachado","retornado","Retornado"].includes(e.Status)&&new Date(e.Date)<=B);return(0,s.jsxs)("div",{className:"h-full w-full font-Encode-Sans pt-20",children:[(0,s.jsxs)("div",{className:"relative flex flex-col px-10 sm:px-10 md:px-20 lg:px-30 xl:px-30 2xl:px-40 h-screen items-center justify-center overflow-hidden",children:[(0,s.jsx)("video",{className:"absolute z-[-10] inset-0 w-full h-full object-cover brightness-50",src:"/Videos/Video2.mp4",loop:!0,autoPlay:!0,muted:!0,controls:!1,onContextMenu:e=>e.preventDefault(),playsInline:!0}),(0,s.jsxs)("div",{className:"w-full h-2/3 flex flex-col items-center justify-start",children:[(0,s.jsx)("div",{className:"w-full text-center pb-24",children:(0,s.jsx)("h1",{className:"text-3xl sm:text-4xl md:text-4xl lg:text-7xl font-bold text-white animate__animated animate__bounceInDown",children:d("track")})}),(0,s.jsxs)("div",{className:"w-full backdrop-blur h-28 md:h-44 bg-white/40 rounded-lg items-center p-8 animate__animated animate__bounceInUp",children:[(0,s.jsxs)("div",{className:"w-full flex flex-row lg:flex-row xl:flex-row text-white gap-2 ",children:[(0,s.jsxs)("div",{className:"w-full relative",children:[(0,s.jsx)("input",{type:"text",id:"track_search",value:D,onChange:e=>{T(e.target.value),c("")},onKeyDown:e=>{"Enter"===e.key&&$()},className:"h-12 w-full rounded-lg px-2 text-black bg-gray-100",placeholder:d("track_placeholder")}),0!==D.length&&(0,s.jsx)("button",{type:"button",id:"track_button",className:"absolute right-0 top-0 p-2 md:w-24 lg:w-24 xl:w-24 rounded-md flex justify-center",onClick:P,children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"h-8 w-8 text-gray-400",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})})})]}),(0,s.jsx)("button",{id:"track_button",className:"bg-light_blue hover:bg-blue p-2 w-12 md:w-24 lg:w-24 xl:w-24 rounded-md flex justify-center",onClick:$,disabled:""===D.trim(),children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-8 h-8 text-white",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})})})]}),(0,s.jsxs)("div",{className:"flex m-4",children:[(0,s.jsx)("div",{className:"pr-2 hidden md:block lg:block",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"text-white w-6 h-6",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"})})}),(0,s.jsx)("div",{className:"hidden md:block lg:block",children:(0,s.jsx)("p",{className:"text-xs sm:text-sm md:text-normal text-white",children:d("track_guide")})})]})]})]})]}),g&&(0,s.jsx)("div",{className:"track_no_result_section h-screen flex items-center justify-center",ref:y,children:(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl sm:text-4xl md:text-4xl lg:text-7xl px-10 sm:px-10 md:px-20 lg:px-30 xl:px-30 2xl:px-40",children:g}),(0,s.jsx)("div",{className:"w-full flex items-center justify-center pt-16",children:(0,s.jsxs)("button",{onClick:P,className:"btn relative inline-flex items-center justify-start overflow-hidden font-medium transition-all bg-slate-300 rounded hover:bg-white group py-1.5 px-2.5",children:[(0,s.jsx)("span",{className:"w-56 h-48 rounded bg-oldgold absolute bottom-0 left-0 translate-x-full ease-out duration-500 transition-all translate-y-full mb-9 ml-9 group-hover:ml-0 group-hover:mb-32 group-hover:translate-x-0"}),(0,s.jsx)("span",{className:"relative w-full text-left text-bluemunsell transition-colors duration-300 ease-in-out group-hover:text-white",children:"Limpiar b\xfasqueda"})]})})]})}),f&&(0,s.jsxs)("div",{className:"relative track_result_section px-10 sm:px-10 md:px-20 lg:px-30 xl:px-40 2xl:px-64 h-auto py-16 ",ref:y,children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-10 pt-6",children:[(0,s.jsx)("div",{className:"flex flex-col  ",children:(0,s.jsxs)("div",{className:"rounded-md border-2",children:[(0,s.jsxs)("div",{className:"imagesContainer text-center mt-8  rounded-md",children:[(0,s.jsx)("div",{className:"w-full h-24 flex justify-center py-4",children:(()=>{if(!f||!f.State)return null;let e="";switch(f.State){case"Despachado":case"En Puerto":case"EnPuerto":case"En Despacho Solicitado Maritimo":case"En Despacho Solicitado":case"DespachoSolicitado":e="Maritimo"===f.TransportMode?"lifeline-barco-03.svg":"lifeline-avion-03.svg";break;case"En Transito":case"EnTransito":f.State="En Transito",e="Maritimo"===f.TransportMode?"lifeline-barco-02.svg":"lifeline-avion-02.svg";break;case"EnCoordinacion":case"En Coordinaci\xf3n":e="Maritimo"===f.TransportMode?"lifeline-barco-01.svg":"lifeline-avion-01.svg";break;default:return null}return(0,s.jsx)("img",{src:`https://www.mclogs.com/assets/images/status_orders/${e}`,alt:"Status",className:"imageNow h-full"})})()}),(0,s.jsx)("div",{className:"text-center py-4",children:(0,s.jsx)("h1",{className:"text-2xl font-semibold text-Estadoverde ",children:f.State&&(0,s.jsx)("p",{children:d(`state.${f.State.toLowerCase().replace(/ /g,"_")}`)})})})]}),(0,s.jsx)("div",{className:"px-4",children:(0,s.jsx)("hr",{})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2",children:[(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center lg:border-r text-center h-28 w-full p-4 border-slate-200",children:[(0,s.jsx)("div",{className:"",children:"CAUCEDO"===f.ActivityPlace||O?(0,s.jsxs)("h1",{className:"font-semibold text-md xl:text-lg text-bluemunsell",children:[d("eta_past")," "]}):(0,s.jsxs)("h1",{className:"font-semibold text-md xl:text-lg text-bluemunsell",children:[d("eta_future"),":"]})}),(0,s.jsx)("div",{children:(0,s.jsx)("p",{className:"pl-2 text-md xl:text-lg font-bold text-gray-500",children:A.toLocaleDateString("en-GB")})})]}),(0,s.jsxs)("div",{className:"flex flex-col md:flex-row items-center justify-center text-center h-28 w-full p-4",children:[(0,s.jsx)("div",{className:"",children:(0,s.jsxs)("p",{className:" font-semibold text-bluemunsell text-md xl:text-lg",children:[d("hbl_state"),":"]})}),(0,s.jsx)("div",{className:"flex-non py-2",children:!0===f.TelexRelease?(0,s.jsx)("img",{className:"ml-4 h-24 w-30",src:"/Icons/telexRelease_hbl.png",alt:"TELEX RELEASE"}):(0,s.jsx)("img",{className:"ml-4 h-24 w-30",src:"/Icons/copia_hbl.png",alt:"COPIA BL"})})]})]}),!k&&S&&V&&(0,s.jsx)("div",{className:"relative flex flex-col items-center justify-center text-center h-[30rem] p-4  w-full",children:(0,s.jsx)("div",{className:"w-full h-full",children:(0,s.jsxs)("iframe",{title:"MarineTraffic",width:"100%",height:"100%",scrolling:"no",frameBorder:"0",src:u,className:"clicked rounded-md overflow-hidden",children:["Browser does not support embedded objects.",(0,s.jsx)("br",{}),"Visit directly ",(0,s.jsx)("a",{href:"http://www.marinetraffic.com/",children:"www.marinetraffic.com"})]})})}),(0,s.jsx)(n.N,{children:k&&_&&V&&(0,s.jsx)(i.P.div,{initial:{scale:0},animate:{scale:1},exit:{scale:0,transition:{duration:1,ease:"easeInOut"}},transition:{duration:1,ease:"easeInOut"},className:"flex flex-col items-center justify-center text-center h-40 w-full p-4 gap-y-2 mt-4",children:(0,s.jsx)("h1",{className:"font-semibold text-white text-2xl bg-red-400 h-40 w-full text-center flex justify-center items-center rounded-md",children:"No se encontr\xf3 registros de este barco"})})})]})}),(0,s.jsxs)("div",{className:"border-2 border-slate-200 rounded-md flex flex-col items-center",children:[(0,s.jsx)("div",{className:"pt-8 pb-2",children:(0,s.jsx)("h1",{className:"text-center text-2xl font-bold text-blue",children:"Historial"})}),(0,s.jsx)("div",{className:"pb-8 w-full flex items-center justify-center",children:(0,s.jsx)("hr",{className:"w-5/6 "})}),(0,s.jsx)("div",{children:(()=>{if(!f||!f.Summary)return null;let e=new Date,t=f.Summary.reduce((t,l)=>{let s=Math.abs(new Date(l.Date)-e);return s<t.diff?{date:l.Date,diff:s}:t},{date:null,diff:1/0});return f.Summary.slice().reverse().map((e,l)=>{let r=e.Date===t.date,{borderClass:a,bgClass:n,textClass:i}=R(e.Date,r),o=l===f.Summary.length-1;return(0,s.jsxs)("div",{className:"flex gap-x-3 justify-center w-full",children:[(0,s.jsx)("div",{className:"w-16 text-start",children:(0,s.jsx)("span",{className:"text-xs text-gray-500 dark:text-neutral-400",children:(0,s.jsx)("p",{children:`${new Date(e.Date).toDateString()}, ${new Date(e.Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`})})}),(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsx)("div",{className:`rounded-full h-5 w-5 border-2 py-2 ${a}`}),!o&&(0,s.jsx)("div",{className:`h-full w-0.5 ${n}`})]}),(0,s.jsxs)("div",{className:"w-36 pb-8",children:[(0,s.jsx)("h3",{className:`flex gap-x-1.5 font-semibold ${i}`,children:d(`${e.Status.toLowerCase().replace(/ /g,"_")}`)}),(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-600 dark:text-neutral-400",children:d(`${e.Description.toLowerCase().replace(/ /g,"_")}`)}),(0,s.jsxs)("div",{className:"mt-1 -ms-1 p-1 inline-flex flex-col text-xs rounded-lg border border-transparent text-gray-500 hover:bg-gray-100 disabled:opacity-50 disabled:pointer-events-none dark:text-neutral-400 dark:hover:bg-neutral-700",children:[(0,s.jsxs)("p",{className:"w-auto",children:[" ",e.Ship||"-"]}),(0,s.jsxs)("p",{children:["(",e.TravelNumber||"-",")"]})]})]})]},l)})})()})]})]}),(0,s.jsx)("div",{className:"w-full flex items-center justify-center pt-16",children:(0,s.jsxs)("button",{onClick:P,className:"btn relative inline-flex items-center justify-start overflow-hidden font-medium transition-all bg-slate-300 rounded hover:bg-white group py-1.5 px-2.5",children:[(0,s.jsx)("span",{className:"w-56 h-48 rounded bg-oldgold absolute bottom-0 left-0 translate-x-full ease-out duration-500 transition-all translate-y-full mb-9 ml-9 group-hover:ml-0 group-hover:mb-32 group-hover:translate-x-0"}),(0,s.jsx)("span",{className:"relative w-full text-left text-bluemunsell transition-colors duration-300 ease-in-out group-hover:text-white",children:d("clean_search_btn")})]})})]})]})}},5683:(e,t,l)=>{"use strict";l.d(t,{N:()=>g});var s=l(5155),r=l(2115),a=l(9656),n=l(9234),i=l(7249);class o extends r.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function c(e){let{children:t,isPresent:l}=e,a=(0,r.useId)(),n=(0,r.useRef)(null),c=(0,r.useRef)({width:0,height:0,top:0,left:0}),{nonce:d}=(0,r.useContext)(i.Q);return(0,r.useInsertionEffect)(()=>{let{width:e,height:t,top:s,left:r}=c.current;if(l||!n.current||!e||!t)return;n.current.dataset.motionPopId=a;let i=document.createElement("style");return d&&(i.nonce=d),document.head.appendChild(i),i.sheet&&i.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${t}px !important;
            top: ${s}px !important;
            left: ${r}px !important;
          }
        `),()=>{document.head.removeChild(i)}},[l]),(0,s.jsx)(o,{isPresent:l,childRef:n,sizeRef:c,children:r.cloneElement(t,{ref:n})})}let d=e=>{let{children:t,initial:l,isPresent:i,onExitComplete:o,custom:d,presenceAffectsLayout:m,mode:x}=e,h=(0,n.M)(u),f=(0,r.useId)(),p=(0,r.useCallback)(e=>{for(let t of(h.set(e,!0),h.values()))if(!t)return;o&&o()},[h,o]),g=(0,r.useMemo)(()=>({id:f,initial:l,isPresent:i,custom:d,onExitComplete:p,register:e=>(h.set(e,!1),()=>h.delete(e))}),m?[Math.random(),p]:[i,p]);return(0,r.useMemo)(()=>{h.forEach((e,t)=>h.set(t,!1))},[i]),r.useEffect(()=>{i||h.size||!o||o()},[i]),"popLayout"===x&&(t=(0,s.jsx)(c,{isPresent:i,children:t})),(0,s.jsx)(a.t.Provider,{value:g,children:t})};function u(){return new Map}var m=l(4710),x=l(5749);let h=e=>e.key||"";function f(e){let t=[];return r.Children.forEach(e,e=>{(0,r.isValidElement)(e)&&t.push(e)}),t}var p=l(5403);let g=e=>{let{children:t,exitBeforeEnter:l,custom:a,initial:i=!0,onExitComplete:o,presenceAffectsLayout:c=!0,mode:u="sync"}=e;(0,x.V)(!l,"Replace exitBeforeEnter with mode='wait'");let g=(0,r.useMemo)(()=>f(t),[t]),w=g.map(h),v=(0,r.useRef)(!0),j=(0,r.useRef)(g),b=(0,n.M)(()=>new Map),[N,y]=(0,r.useState)(g),[S,E]=(0,r.useState)(g);(0,p.E)(()=>{v.current=!1,j.current=g;for(let e=0;e<S.length;e++){let t=h(S[e]);w.includes(t)?b.delete(t):!0!==b.get(t)&&b.set(t,!1)}},[S,w.length,w.join("-")]);let k=[];if(g!==N){let e=[...g];for(let t=0;t<S.length;t++){let l=S[t],s=h(l);w.includes(s)||(e.splice(t,0,l),k.push(l))}"wait"===u&&k.length&&(e=k),E(f(e)),y(g);return}let{forceRender:M}=(0,r.useContext)(m.L);return(0,s.jsx)(s.Fragment,{children:S.map(e=>{let t=h(e),l=g===S||w.includes(t);return(0,s.jsx)(d,{isPresent:l,initial:(!v.current||!!i)&&void 0,custom:l?void 0:a,presenceAffectsLayout:c,mode:u,onExitComplete:l?void 0:()=>{if(!b.has(t))return;b.set(t,!0);let e=!0;b.forEach(t=>{t||(e=!1)}),e&&(null==M||M(),E(j.current),o&&o())},children:e},t)})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[214,761,441,517,358],()=>t(7357)),_N_E=e.O()}]);